<!DOCTYPE html>
<html>
<body>
    <h2>H.264 Player</h2>
    <input type="file" id="fileInput" accept=".txt" />
    <button onclick="playH264()">Play H.264</button>
    <div id="status"></div>
    <video id="videoPlayer" controls width="640" height="360"></video>

    <script>
        async function playH264() {
            const file = document.getElementById('fileInput').files[0];
            if (!file) return;
            
            const text = await file.text();
            const hex = text.replace(/[^0-9A-Fa-f]/g, '');
            const buffer = new Uint8Array(hex.length / 2);
            
            for (let i = 0; i < buffer.length; i++) {
                buffer[i] = parseInt(hex.substr(i * 2, 2), 16);
            }
            
            const blob = new Blob([buffer], { type: 'video/mp4' });
            const url = URL.createObjectURL(blob);
            document.getElementById('videoPlayer').src = url;
            document.getElementById('status').textContent = 'Playing H.264 as MP4';
        }
    </script>
</body>
</html>